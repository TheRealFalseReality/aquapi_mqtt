substitutions:
  # names
  name: "aquapi_mqtt"
  friendly_name: "AquaPi MQTT"
  comment: "AquaPi MQTT ESP32 - Aquarium Controller & Monitor"
  project_name: "therealfalsereality.aquapi_mqtt"
  sorting_group_name: "AquaPi "
  import: "false"

dashboard_import:
  package_import_url: github://TheRealFalseReality/aquapi/aquapi_mqtt_config.yaml@main
  import_full_config: "${import}"

esp32:
  framework:
    type: esp-idf

api: 
  reboot_timeout: 0s
    
mqtt:
  broker: thefalsehome.duckdns.org
  # broker: homeassistant.local
  port: 8883
  username: mosquitto
  password: !secret mqtt_password
  discovery_prefix: ${mqtt_prefix}/homeassistant
  log_topic: ${mqtt_prefix}/logs
  skip_cert_cn_check: true
  idf_send_async: false
  certificate_authority: !secret certfile
      
text_sensor: 
  # AquaPi Version
  - platform: template
    name: "AquaPi Version"
    id: aquapi_version
    icon: mdi:update
    update_interval: '24h'
    lambda: |-
      return {"${app_version}"};
    entity_category: "diagnostic"
    web_server:
      sorting_group_id: sorting_group_diagnostic

  # GitHub Project URL
  - platform: template
    name: GitHub
    id: github
    icon: mdi:github
    update_interval: '24h'
    lambda: |-
      return {"github.com/TheRealFalseReality/aquapi_mqtt"};
    entity_category: "diagnostic"
    web_server:
      sorting_group_id: sorting_group_diagnostic
